---
sidebar_position: 20
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Drops - Get Entitlements

## Description

Get entitlements for an organization (granted to a game, user, or both)
using **app access token** or **user access token**.
The *client ID* in the access token must own
the game.

Valid combinations of request parameters are 
- no fields
- only userId
- only gameId
- both userId and gameId

## Method Definition
```java
@RequestLine("GET /entitlements/drops?id={id}&user_id={user_id}&game_id={game_id}&fulfillment_status={fulfillment_status}&after={after}&first={first}")
@Headers("Authorization: Bearer {token}")
HystrixCommand<DropsEntitlementList> getDropsEntitlements(
        @Param("token") String authToken,
        @Param("id") String id,
        @Param("user_id") String userId,
        @Param("game_id") String gameId,
        @Param("fulfillment_status") DropFulfillmentStatus status,
        @Param("after") String after,
        @Param("first") Integer limit
    );
```

*Required Parameters*

| Name      | Type   | Description                           |
|-----------|--------|---------------------------------------|
| authToken | string | App access token or user access token |

*Optional Parameters*

| Name               | Type    | Description                                                            |
|--------------------|---------|------------------------------------------------------------------------|
| id                 | string  | Unique identifier of the entitlements                                  |
| user_id            | string  | User ID, that was granted entitlements                                 |
| game_id            | string  | Game ID, that offered entitlements                                     |
| fulfillment_status | string  | Status used to filter entitlements. Example- 'claimed' or 'fulfilled'  |
| after              | string  | The cursor used to get the next page of results.                       |
| first              | integer | The maximum number of entitlements to return per page in the response. |


## Code Snippets

### Print the list of entitlements 

<Tabs groupId="code">
<TabItem value="java" label="Java">
// Get entitlement by ID
```java
DropsEntitlementList resultList = twitchClient.getHelix().getDropsEntitlements("appAccessToken", "entitlementId", null, null, null, null, 1000).execute();
resultList.getData().forEach(drop -> System.out.println("User ID: %s - Status: %s", drop.getUserId(), drop.getFulfillmentStatus()));
```

// Get 1000 entitlements by Game
```java
DropsEntitlementList resultList = twitchClient.getHelix().getDropsEntitlements("appAccessToken", null, null, "gameId", null, null, 1000).execute();
resultList.getData().forEach(drop -> System.out.println("User ID: %s - Status: %s", drop.getUserId(), drop.getFulfillmentStatus()));
```

// Get entitlements by User
```java
DropsEntitlementList resultList = twitchClient.getHelix().getDropsEntitlements("appAccessToken", null, "userId", null, null, null, 1000).execute();
resultList.getData().forEach(drop -> System.out.println("Game ID: %s - Status: %s", drop.getGameId(), drop.getFulfillmentStatus()));
```

// Get 1000 claimed but not fulfilled entitlements
```java
DropsEntitlementList resultList = twitchClient.getHelix().getDropsEntitlements("appAccessToken", null, null, null, DropFulfillmentStatus.CLAIMED, null, 1000).execute();
resultList.getData().forEach(drop -> System.out.println("User ID: %s - Timestamp: %s", drop.getUserId(), drop.getUpdatedAt()));
```
</TabItem>
<TabItem value="kotlin" label="Kotlin">
// Get entitlement by ID
```kotlin
val resultlist = twitchClient.helix.getDropsEntitlements("appAccessToken","entitlementId",null,null,null,null,1000).execute()
resultList.data.forEach { println("User ID: ${it.userId} - Status: ${it.fulfillmentStatus}") }
```

// Get 1000 entitlements by Game
```kotlin
val resultList = twitchClient.helix.getDropsEntitlements("appAccessToken", null, null, "gameId", null, null, 1000).execute()
resultList.data.forEach { println("User ID: ${it.userId} - Status: ${it.fulfillmentStatus}") }
```

// Get entitlements by User
```kotlin
val resultList = twitchClient.helix.getDropsEntitlements("appAccessToken", null, "userId", null, null, null, 1000).execute()
resultList.data.forEach { println("Game ID: ${it.gameId} - Status: ${it.fulfillmentStatus}") }
```

// Get 1000 claimed but not fulfilled entitlements
```kotlin
val resultList = twitchClient.helix.getDropsEntitlements("appAccessToken", null, null, null, DropFulfillmentStatus.CLAIMED, null, 1000).execute()
resultList.data.forEach { println("User ID: ${it.userId} - Timestamp:${it.updatedAt}") }
```
</TabItem>
<TabItem value="groovy" label="Groovy">

// Get entitlement by ID
```groovy
def resultList = twitchClient.helix.getDropsEntitlements("appAccessToken", "entitlementId", null, null, null, null, 1000).execute()
resultList.data.each { drop ->
    System.out.println "User ID: ${drop.userId} - Status: ${drop.fulfillmentStatus}" 
}
```

// Get 1000 entitlements by Game
```groovy
def resultList = twitchClient.helix.getDropsEntitlements("appAccessToken", null, null, "gameId", null, null, 1000).execute();
resultList.data.each { drop ->
    System.out.println "User ID: ${drop.userId} - Status: ${drop.fulfillmentStatus}"
}
```

// Get entitlements by User
```groovy
def resultList = twitchClient.helix.getDropsEntitlements("appAccessToken", null, "userId", null, null, null, 1000).execute();
resultList.data.each { drop ->
    System.out.println "Game ID: ${drop.gameId} - Status: ${drop.fulfillmentStatus}"
}
```

// Get 1000 claimed but not fulfilled entitlements
```groovy
def resultList = twitchClient.helix().getDropsEntitlements("appAccessToken", null, null, null, DropFulfillmentStatus.CLAIMED, null, 1000).execute();
resultList.data.each { drop ->
    System.out.println "User ID: ${drop.userId} - Timestamp:${drop.updateat}"
}
```
</TabItem>
</Tabs>
