var noResult={l:"No results found"},loading={l:"Loading search index..."},catModules="Modules",catPackages="Packages",catTypes="Classes and Interfaces",catMembers="Members",catSearchTags="Search Tags",highlight='<span class="result-highlight">$&</span>',searchPattern="",fallbackPattern="",RANKING_THRESHOLD=2,NO_MATCH=65535,MIN_RESULTS=3,MAX_RESULTS=500,UNNAMED="<Unnamed>";function escapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getHighlightedText(e,t,a){var r=escapeHtml(e),c=r.replace(t,highlight);return c===r&&(c=r.replace(a,highlight)),c}function getURLPrefix(e){var t="",a="/";return e.item.category===catModules?e.item.l+a:e.item.category===catPackages&&e.item.m?e.item.m+a:(e.item.category!==catTypes&&e.item.category!==catMembers||(e.item.m?t=e.item.m+a:$.each(packageSearchIndex,(function(r,c){c.m&&e.item.p===c.l&&(t=c.m+a)}))),t)}function createSearchPattern(e){var t="",a=!1;return e.replace(/,\s*/g,", ").trim().split(/\s+/).forEach((function(e,r){r>0&&(t+=a&&/^\w/.test(e)?"\\s+":"\\s*");for(var c=e.split(/(?=[A-Z,.()<>[\/])/),n=0;n<c.length;n++){var i=c[n];""!==i&&(t+=$.ui.autocomplete.escapeRegex(i),(a=/\w$/.test(i))&&(t+="([a-z0-9_$<>\\[\\]]*?)"))}})),t}function createMatcher(e,t){var a=/[A-Z]/.test(e);return new RegExp(e,t+(a?"":"i"))}var watermark="Search";function rankMatch(e,t){if(!e)return NO_MATCH;var a=e.index,r=e.input,c=2,n=0;0===a||/\W/.test(r[a-1])||"_"===r[a]?c=0:("_"===r[a-1]||r[a]===r[a].toUpperCase()&&!/^[A-Z0-9_$]+$/.test(r))&&(c=1);var i=a+e[0].length,s=r.indexOf("("),l=s>-1?s:r.length;if(t!==catModules&&t!==catSearchTags){var o=t===catPackages?"/":".";(s>-1&&s<a||r.lastIndexOf(o,l)>=i)&&(n+=2)}for(var u=e[0].length===l?0:1,g=1;g<e.length;g++)e[g]&&(u+=e[g].length);return t===catTypes&&(/[A-Z]/.test(r.substring(i))&&(u+=5),/[A-Z]/.test(r.substring(0,a))&&(u+=5)),c+n+u/200}function doSearch(e,t){var a=[];if(searchPattern=createSearchPattern(e.term),fallbackPattern=createSearchPattern(e.term.toLowerCase()),""===searchPattern)return this.close();var r=createMatcher(searchPattern,""),c=new RegExp(fallbackPattern,"i");function n(e,t,a,r){if(e){var c=[];return $.each(e,(function(e,n){n.category=a;var i=rankMatch(t.exec(r(n)),a);return i<RANKING_THRESHOLD&&c.push({ranking:i,item:n}),c.length<=MAX_RESULTS})),c.sort((function(e,t){return e.ranking-t.ranking})).map((function(e){return e.item}))}return[]}function i(e,t,i){var s=n(e,r,t,i);if(a=a.concat(s),s.length<=MIN_RESULTS&&!r.ignoreCase){var l=n(e,c,t,i);a=a.concat(l.filter((function(e){return-1===s.indexOf(e)})))}}i(moduleSearchIndex,catModules,(function(e){return e.l})),i(packageSearchIndex,catPackages,(function(t){return t.m&&e.term.indexOf("/")>-1?t.m+"/"+t.l:t.l})),i(typeSearchIndex,catTypes,(function(t){return e.term.indexOf(".")>-1?t.p+"."+t.l:t.l})),i(memberSearchIndex,catMembers,(function(t){return e.term.indexOf(".")>-1?t.p+"."+t.c+"."+t.l:t.l})),i(tagSearchIndex,catSearchTags,(function(e){return e.l})),indexFilesLoaded()?updateSearchResults=function(){}:(updateSearchResults=function(){doSearch(e,t)},a.unshift(loading)),t(a)}$((function(){var e=$("#search-input"),t=$("#reset-button");e.val(""),e.prop("disabled",!1),t.prop("disabled",!1),e.val(watermark).addClass("watermark"),e.blur((function(){0===$(this).val().length&&$(this).val(watermark).addClass("watermark")})),e.on("click keydown paste",(function(){$(this).val()===watermark&&$(this).val("").removeClass("watermark")})),t.click((function(){e.val("").focus()})),e.focus()[0].setSelectionRange(0,0)})),$.widget("custom.catcomplete",$.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(e,t){var a=this,r="";a.menu.bindings=$(),$.each(t,(function(t,c){var n;c.category&&c.category!==r&&(e.append('<li class="ui-autocomplete-category">'+c.category+"</li>"),r=c.category),n=a._renderItemData(e,c),c.category?(n.attr("aria-label",c.category+" : "+c.l),n.attr("class","result-item")):(n.attr("aria-label",c.l),n.attr("class","result-item"))}))},_renderItem:function(e,t){var a="",r=createMatcher(escapeHtml(searchPattern),"g"),c=new RegExp(fallbackPattern,"gi");a=t.category===catModules||t.category===catPackages?getHighlightedText(t.l,r,c):t.category===catTypes?t.p&&t.p!==UNNAMED?getHighlightedText(t.p+"."+t.l,r,c):getHighlightedText(t.l,r,c):t.category===catMembers?t.p&&t.p!==UNNAMED?getHighlightedText(t.p+"."+t.c+"."+t.l,r,c):getHighlightedText(t.c+"."+t.l,r,c):t.category===catSearchTags?getHighlightedText(t.l,r,c):t.l;var n=$("<li/>").appendTo(e),i=$("<div/>").appendTo(n);return t.category===catSearchTags&&t.h?t.d?i.html(a+'<span class="search-tag-holder-result"> ('+t.h+')</span><br><span class="search-tag-desc-result">'+t.d+"</span><br>"):i.html(a+'<span class="search-tag-holder-result"> ('+t.h+")</span>"):t.m?i.html(t.m+"/"+a):i.html(a),n}}),$((function(){$("#search-input").catcomplete({minLength:1,delay:300,source:doSearch,response:function(e,t){t.content.length?$("#search-input").empty():t.content.push(noResult)},autoFocus:!0,focus:function(e,t){return!1},position:{collision:"flip"},select:function(e,t){if(t.item.category){var a=getURLPrefix(t);t.item.category===catModules?a+="module-summary.html":t.item.category===catPackages?t.item.u?a=t.item.u:a+=t.item.l.replace(/\./g,"/")+"/package-summary.html":t.item.category===catTypes?t.item.u?a=t.item.u:t.item.p===UNNAMED?a+=t.item.l+".html":a+=t.item.p.replace(/\./g,"/")+"/"+t.item.l+".html":t.item.category===catMembers?(t.item.p===UNNAMED?a+=t.item.c+".html#":a+=t.item.p.replace(/\./g,"/")+"/"+t.item.c+".html#",t.item.u?a+=t.item.u:a+=t.item.l):t.item.category===catSearchTags&&(a+=t.item.u),top!==window?parent.classFrame.location=pathtoroot+a:window.location.href=pathtoroot+a,$("#search-input").focus()}}})}));